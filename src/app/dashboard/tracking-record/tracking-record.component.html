<section style="width: 100%; overflow: hidden">
  <div class="container-fluid">
    <div class="row">
      <div *ngFor="let sale of sales" class="col-md-3">
        <div class="card">
          <div *ngIf="sale.offer.property.medias && sale.offer.property.medias.length > 0">
            <div
              *ngFor="let media of sale.offer.property.medias"
              style="background: url('assets/images/brec-bg.jpg') no-repeat top left;background-size: cover;height: 200px"
              [ngStyle]=
                "{
                'background-image': media.typeMedia == 'photos' ?
                 environment.baseApiUrl + '/uploads/medias/' + media.filename : 'assets/images/brec-bg.jpg'
                }"
              class="card-header">
            </div>
          </div>
          <div
            *ngIf="!sale.offer.property.medias || sale.offer.property.medias.length == 0"
            style="background: url('assets/images/brec-bg.jpg') no-repeat top left;background-size: cover;height: 200px"
            class="card-header">
          </div>
          <div class="card-body">
            <div style="display: flex; justify-content: space-between">
              <div>
                <span style="font-size: 1rem; font-weight: bold">
                  {{ sale.offer.title }}
                </span>
              </div>
              <div>
                <em style="color: #666666; font-size: x-small">{{ sale.soldAt }}</em>
              </div>
            </div>
            <ul style="margin-left: 0; padding-left: 0; font-size: small">
              <li><span>Vente  </span><b>{{ sale.sellingPrice  | mask: 'separator':'.' }}CHF</b></li>
              <li><span>Commission  </span><b>{{ sale.commission  | mask: 'separator':'.'}}CHF</b></li>
              <li *ngIf="sale.byCollaborator"><span>Collaborateur  </span><b>{{ sale.byCollaborator.email.split('@')[0] | uppercase }}</b></li>
              <li style="width: 100%; text-align:center;font-size: small;color: #787878;display: flex;align-items: center;">
                <span style="font-size: x-small"><mat-icon>location_on</mat-icon> </span>
                <em style="font-weight: lighter;">
                  {{ sale.offer.property.address.street }}, {{ sale.offer.property.address.city }}
                </em>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
